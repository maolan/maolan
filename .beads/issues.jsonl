{"id":"maolan-13y","title":"Implement f32 passthrough conversion in hw/coreaudio/convert.rs","description":"CoreAudio uses natively non-interleaved Float32 format, so no byte-swapping or format conversion is needed. Add F32_FROM_F32 and F32_TO_F32 constants to convert_policy.rs. Create engine/src/hw/coreaudio/convert.rs.","status":"open","priority":3,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:09:01Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:09:01Z"}
{"id":"maolan-1g2","title":"Design and implement SharedIOState condvar bridge in hw/coreaudio/ioproc.rs","description":"Create SharedIOState struct with fields: cycle_seq, input_frames, output_frames, output_ready, last_timestamp, overload_detected. Share via Arc\u003c(Mutex\u003cSharedIOState\u003e, Condvar)\u003e between IOProc HAL callback and worker thread. This is the mmap-equivalent for CoreAudio's callback-driven model.","status":"open","priority":1,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:08:46Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:08:46Z","dependencies":[{"issue_id":"maolan-1g2","depends_on_id":"maolan-4qn","type":"blocks","created_at":"2026-02-24T20:12:57Z","created_by":"Mladen Stepanic","metadata":"{}"},{"issue_id":"maolan-1g2","depends_on_id":"maolan-80h","type":"blocks","created_at":"2026-02-24T20:12:57Z","created_by":"Mladen Stepanic","metadata":"{}"},{"issue_id":"maolan-1g2","depends_on_id":"maolan-9io","type":"blocks","created_at":"2026-02-24T20:12:58Z","created_by":"Mladen Stepanic","metadata":"{}"},{"issue_id":"maolan-1g2","depends_on_id":"maolan-vwh","type":"blocks","created_at":"2026-02-24T20:12:58Z","created_by":"Mladen Stepanic","metadata":"{}"}]}
{"id":"maolan-4qn","title":"Wire coreaudio module into hw/mod.rs, engine.rs, config.rs","description":"Wire the CoreAudio module into the existing hw infrastructure. Add #[cfg(target_os = \"macos\")] pub mod coreaudio in hw/mod.rs, add COREAUDIO_ASSIST_AUTONOMOUS_ENV constant in hw/config.rs, and add import guards in engine.rs.","status":"open","priority":2,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:09:56Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:09:56Z"}
{"id":"maolan-59c","title":"Add HwOptions::default() for CoreAudio (period=512, nperiods=1, sync_mode=true)","description":"Add HwOptions::default() implementation for CoreAudio backend with sensible defaults: period_size=512, nperiods=1, sync_mode=true.","status":"open","priority":3,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:09:37Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:09:37Z"}
{"id":"maolan-6m5","title":"Register AudioDeviceCreateIOProcID and implement IOProc callback","description":"Implement extern \"C\" fn io_proc(...) that copies data between AudioBufferList and SharedIOState. Handle AudioDeviceStart/Stop lifecycle. Register with AudioDeviceCreateIOProcID.","status":"open","priority":1,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:08:53Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:08:53Z"}
{"id":"maolan-78q","title":"Create hw/coreaudio/error_fmt.rs for consistent error strings","description":"Create engine/src/hw/coreaudio/error_fmt.rs with helper functions for formatting CoreAudio OSStatus error codes into human-readable strings.","status":"in_progress","priority":3,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:09:33Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:31:20Z"}
{"id":"maolan-7xq","title":"Implement FrameClock using AudioGetCurrentHostTime / AudioConvertHostTimeToNanos","description":"Implement FrameClock for macOS using AudioGetCurrentHostTime and AudioConvertHostTimeToNanos CoreAudio APIs. Set zero_host_time at driver init. now() returns frame count since init. sleep_until_frame() becomes bounded condvar wait driven by IOProc wakeup.","status":"open","priority":2,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:09:16Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:09:16Z"}
{"id":"maolan-80h","title":"Add coreaudio-sys + coremidi deps to engine/Cargo.toml","description":"Add platform-specific dependencies for macOS CoreAudio backend. Add [target.'cfg(target_os = \"macos\")'.dependencies] block with coreaudio-sys and coremidi crates to engine/Cargo.toml.","status":"in_progress","priority":2,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:09:52Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:31:10Z"}
{"id":"maolan-8f2","title":"Implement CoreMIDI source/destination enumeration in hw/coreaudio/midi_hub.rs","description":"Enumerate CoreMIDI sources and destinations using coremidi::Sources::count(), Source::from_index(), display_name(). Format as 'coreaudio:\u003cdisplay_name\u003e'. Create engine/src/hw/coreaudio/midi_hub.rs.","status":"open","priority":2,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:09:16Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:09:16Z","dependencies":[{"issue_id":"maolan-8f2","depends_on_id":"maolan-4qn","type":"blocks","created_at":"2026-02-24T20:13:01Z","created_by":"Mladen Stepanic","metadata":"{}"},{"issue_id":"maolan-8f2","depends_on_id":"maolan-80h","type":"blocks","created_at":"2026-02-24T20:13:01Z","created_by":"Mladen Stepanic","metadata":"{}"},{"issue_id":"maolan-8f2","depends_on_id":"maolan-9io","type":"blocks","created_at":"2026-02-24T20:13:02Z","created_by":"Mladen Stepanic","metadata":"{}"},{"issue_id":"maolan-8f2","depends_on_id":"maolan-vwh","type":"blocks","created_at":"2026-02-24T20:13:02Z","created_by":"Mladen Stepanic","metadata":"{}"}]}
{"id":"maolan-9ay","title":"Implement HwMidiHub trait: read_events_into, write_events","description":"Implement HwMidiHub trait for CoreMIDI. Input: use InputPort::connect_source callback to fill VecDeque\u003cHwMidiEvent\u003e. Output: build PacketList and send to Destination.","status":"open","priority":2,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:09:19Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:09:19Z"}
{"id":"maolan-9io","title":"Create CoreAudioBackend struct in coreaudio_worker.rs","description":"Create the CoreAudioBackend struct in engine/src/coreaudio_worker.rs that mirrors the OssBackend pattern and type-aliases HwWorker for macOS.","status":"open","priority":2,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:10:00Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:10:00Z"}
{"id":"maolan-amx","title":"Implement run_cycle_for_worker: wait on condvar, fill AudioIO ports","description":"Implement the worker-side of the condvar bridge. Wait on condvar for cycle_seq increment from IOProc. Copy input_frames[ch] to AudioIO input ports. Return to HwWorker so engine can send HWFinished. Mirrors OSS DuplexChannelApi::run_cycle().","status":"open","priority":1,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:08:56Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:08:56Z"}
{"id":"maolan-aok","title":"Add macOS RT thread priorities via pthread_set_qos_class_self_np in hw_worker.rs","description":"Add macOS-specific real-time thread priority setting in hw_worker.rs. Use QOS_CLASS_USER_INTERACTIVE for worker thread and QOS_CLASS_USER_INITIATED for assist thread. Guard with #[cfg(target_os = \"macos\")].","status":"open","priority":2,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:09:26Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:09:26Z","dependencies":[{"issue_id":"maolan-aok","depends_on_id":"maolan-13y","type":"blocks","created_at":"2026-02-24T20:13:03Z","created_by":"Mladen Stepanic","metadata":"{}"},{"issue_id":"maolan-aok","depends_on_id":"maolan-7xq","type":"blocks","created_at":"2026-02-24T20:13:03Z","created_by":"Mladen Stepanic","metadata":"{}"},{"issue_id":"maolan-aok","depends_on_id":"maolan-b6g","type":"blocks","created_at":"2026-02-24T20:13:03Z","created_by":"Mladen Stepanic","metadata":"{}"},{"issue_id":"maolan-aok","depends_on_id":"maolan-vwh","type":"blocks","created_at":"2026-02-24T20:13:02Z","created_by":"Mladen Stepanic","metadata":"{}"},{"issue_id":"maolan-aok","depends_on_id":"maolan-xft","type":"blocks","created_at":"2026-02-24T20:13:04Z","created_by":"Mladen Stepanic","metadata":"{}"}]}
{"id":"maolan-asj","title":"Query hardware latency properties (kAudioDevicePropertyLatency, kAudioStreamPropertyLatency)","description":"Query CoreAudio hardware latency properties during HwDriver::new_with_options initialization. Store input_latency_frames and output_latency_frames. Implement in driver.rs.","status":"open","priority":2,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:09:04Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:09:04Z","dependencies":[{"issue_id":"maolan-asj","depends_on_id":"maolan-13y","type":"blocks","created_at":"2026-02-24T20:12:59Z","created_by":"Mladen Stepanic","metadata":"{}"},{"issue_id":"maolan-asj","depends_on_id":"maolan-1g2","type":"blocks","created_at":"2026-02-24T20:12:58Z","created_by":"Mladen Stepanic","metadata":"{}"},{"issue_id":"maolan-asj","depends_on_id":"maolan-6m5","type":"blocks","created_at":"2026-02-24T20:12:59Z","created_by":"Mladen Stepanic","metadata":"{}"},{"issue_id":"maolan-asj","depends_on_id":"maolan-amx","type":"blocks","created_at":"2026-02-24T20:12:59Z","created_by":"Mladen Stepanic","metadata":"{}"}]}
{"id":"maolan-b6g","title":"Unregister IOProc and property listeners on Drop","description":"Implement proper cleanup in Drop for CoreAudio driver: AudioDeviceStop, AudioDeviceDestroyIOProcID, AudioObjectRemovePropertyListener. Prevent resource leaks.","status":"open","priority":3,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:09:11Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:09:11Z"}
{"id":"maolan-f9k","title":"Detect AudioTimeStamp discontinuities in IOProc","description":"In the IOProc callback, compare consecutive inOutputTime-\u003emHostTime values to detect timestamp discontinuities. Flag timestamp_discontinuity in SharedIOState when detected. Indicates xrun occurred.","status":"open","priority":2,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:09:04Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:09:04Z"}
{"id":"maolan-g8e","title":"Port DuplexSync and Correction to hw/coreaudio/sync.rs","description":"Port DuplexSync and Correction structs from hw/oss/sync.rs to hw/coreaudio/sync.rs. Pure arithmetic, no OS calls needed. Replace libc::timespec with macOS host time u64 for timestamp tracking.","status":"open","priority":2,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:09:12Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:09:12Z"}
{"id":"maolan-hji","title":"Implement xrun_gap() and buffer reset recovery in run_cycle_for_worker","description":"Mirror OSS xrun_gap(): compute frame gap from host time delta / sample_rate. On xrun: fill silence, reset Correction state, clear overload/discontinuity flags. Mirrors DuplexChannelApi::run_cycle() xrun path in hw/oss/channel.rs.","status":"open","priority":1,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:09:08Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:09:08Z"}
{"id":"maolan-ogt","title":"Register kAudioDeviceProcessorOverload HAL property listener","description":"Register a CoreAudio HAL property listener for kAudioDeviceProcessorOverload. Listener sets SharedIOState.overload_detected = true when triggered. Equivalent to OSS get_play_underruns() / get_rec_overruns().","status":"open","priority":2,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:09:01Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:09:01Z","dependencies":[{"issue_id":"maolan-ogt","depends_on_id":"maolan-7xq","type":"blocks","created_at":"2026-02-24T20:13:01Z","created_by":"Mladen Stepanic","metadata":"{}"},{"issue_id":"maolan-ogt","depends_on_id":"maolan-asj","type":"blocks","created_at":"2026-02-24T20:13:00Z","created_by":"Mladen Stepanic","metadata":"{}"},{"issue_id":"maolan-ogt","depends_on_id":"maolan-g8e","type":"blocks","created_at":"2026-02-24T20:13:00Z","created_by":"Mladen Stepanic","metadata":"{}"},{"issue_id":"maolan-ogt","depends_on_id":"maolan-tj8","type":"blocks","created_at":"2026-02-24T20:13:00Z","created_by":"Mladen Stepanic","metadata":"{}"}]}
{"id":"maolan-rw1","title":"End-to-end integration test: open CoreAudio device, play sine tone, verify no xruns","description":"Write an integration test that opens a CoreAudio device, plays a sine tone for several seconds, and verifies no xruns are reported. Tests the complete signal path from device open through audio output.","status":"open","priority":2,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:09:41Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:09:41Z"}
{"id":"maolan-tj8","title":"Implement HwDevice::latency_ranges() calling latency::latency_ranges()","description":"Implement HwDevice::latency_ranges() for CoreAudio that calls the platform-agnostic latency::latency_ranges() helper. Use nperiods=1 and sync_mode=true since duplex is always synced via single IOProc.","status":"open","priority":2,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:09:08Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:09:08Z"}
{"id":"maolan-vwh","title":"Implement AudioDeviceID enumeration in hw/coreaudio/device.rs","description":"Implement device enumeration using kAudioHardwarePropertyDevices HAL property. Format device names as 'coreaudio:\u003cname\u003e'. Query channel count via kAudioDevicePropertyStreamConfiguration. Create engine/src/hw/coreaudio/device.rs.","status":"open","priority":2,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:10:04Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:10:04Z"}
{"id":"maolan-xft","title":"Wire discover_midi_hw_devices() macOS arm in engine.rs","description":"Add macOS arm to discover_midi_hw_devices() function in engine.rs to enumerate and return CoreMIDI devices.","status":"open","priority":3,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:09:22Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:09:22Z"}
{"id":"maolan-xjr","title":"Implement buffer size + sample rate negotiation in driver.rs","description":"Implement buffer size negotiation: set kAudioDevicePropertyBufferFrameSize, clamp to kAudioDevicePropertyBufferFrameSizeRange. Implement sample rate negotiation: set kAudioDevicePropertyNominalSampleRate, validate against available rates list.","status":"open","priority":2,"issue_type":"task","owner":"crawleyprint@gmail.com","created_at":"2026-02-24T19:09:29Z","created_by":"Mladen Stepanic","updated_at":"2026-02-24T19:09:29Z"}
